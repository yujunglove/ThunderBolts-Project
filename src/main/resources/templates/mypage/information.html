<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>THUNDER_BOLT</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="image/favicon.ico" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="/css/mypage/mypageBoot.css" rel="stylesheet" type="text/css">
    <link href="/css/mypage/information.css" rel="stylesheet" />
    <script src="/js/mypageSide.js" type="text/Javascript" defer></script>

</head>

<body>
    <!-- 헤더 -->
	<div th:replace="common/header/mypageHeader.html"></div>
    <!-- 바디 -->
    <!-- 사이드바 -->
    <div class="d-flex" id="wrapper">
        <div class="border-end bg-white" id="sidebar-wrapper">
            <a href="#">
                <div class="sidebar-title " id="side0">마이 페이지</div>
            </a>
            <!-- Sidebar 쇼핑정보 -->
            <div class="sidebar-heading">쇼핑정보</div>
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action list-group-item-light" id="side1">구매 내역</a>
                <a class="list-group-item list-group-item-action list-group-item-light" id="side2">판매 내역</a>
                <a class="list-group-item list-group-item-action list-group-item-light" id="side3">관심 상품</a>
            </div>

            <!-- Sidebar 내정보 -->
            <div class="sidebar-heading">내정보</div>
            <div class="list-group list-group-flush">
                <a class="list-group-item list-group-item-action list-group-item-light font_weight" id="side4">내 정보 관리</a>
                <a class="list-group-item list-group-item-action list-group-item-light" id="side5">내 문의 내역</a>
                <a class="list-group-item list-group-item-action list-group-item-light" id="side6">주소록</a>
                <a class="list-group-item list-group-item-action list-group-item-light" id="side7">정산계좌</a>
            </div>
        </div>
        <!--sidebar-wrapper-->

        <!-- Page content wrapper-->
        <div id="page-content-wrapper">
            <!-- Page content-->
            <div class="container-fluid">
                <!-- 내 정보 조회 -->

                <h3>내 정보 조회</h3>
                <div class="information">
                    <ul>
                        <li class="information_wrap">
                        	<img style="width: 120px; height: 120px;">
                        </li>
                        <li>
                            <ul class="prifile_text" style="position: relative;">
                                <li>thbo_123@gmail.com</li>
                                <li><button class="information_img_btn">이미지 변경</button></li>
                                <li><button class="information_del_btn">삭제</button></li>
                            </ul>
                        </li>
                    </ul>
                    <!-- 프로필 이미지 변경-->
                    <div style="display: none;">
						<input type="file" name="attachImage" accept="image/gif,image/jpeg,image/png"> 
					</div>
                </div> <!-- 내 정보 조회 -->

                <div class="information_cont">
                    <div>
                        <div class="information_text">로그인 정보</div>
                        <div class="information_text gray">이메일 주소</div>
                        <p></p>
                        <div class="information_text gray">비밀 번호</div>
                        <p></p>
                    </div>

                    <div>
                        <div class="information_text">개인 정보</div>
                        <div class="information_text gray">이름</div>
                        <p></p>
                        <div class="information_text gray">휴대폰 번호</div>
                        <p></p>
                        <button class="information_btn">수정</button>
                    </div>
                </div>
            </div>
        </div>
    </div><!-- 사이드바 -->
	<!-- 푸터 -->
	<div th:replace="common/footer/mainFooter.html"></div>
	
	<script>
		(function(){
			/* 프로필 수정 버튼 요소 */
			const imageArea = document.querySelector(".information_img_btn");
			/* input type=file 요소 */
			const fileElements = document.querySelector("[type=file]");
			/* 이미지 요소 */
		    const imageElement = document.querySelector(".information_wrap");
			
			/* 버튼 클릭 시 open 함수 동작 */
			imageArea.addEventListener('click', open);
			/* 파일 첨부가 발생하는 상황에 preview 함수 동작 */
			fileElements.addEventListener('change', preview);
			
			function open() {
				fileElements.click();
			}
			
			function preview() {
				
				console.log(this.files[0]);
				  /* 첨부된 파일이 존재한다면 */
				  if (this.files[0]) {
				    const reader = new FileReader();
				    reader.readAsDataURL(this.files[0]);
				    /* 파일 로드 후 동작하는 이벤트 설정 */
				    reader.onload = function() {					
				      imageElement.innerHTML = `<img src='${reader.result}' style='width: 120px; height: 120px'>`;
				      imageElement.querySelector("img").style.display = "block";
				    }
				  }
				}
		})();
		
		
	</script>
	<script>
	(function(){
		// 이미지 삭제 버튼 요소
		const deleteBtn = document.querySelector(".information_del_btn");
		// 이미지 요소
		const imageElement = document.querySelector(".information_wrap");

		// 삭제 버튼 클릭 시 hideImage 함수 동작
		deleteBtn.addEventListener('click', hideImage);

		function hideImage() {
		  // 이미지 요소의 display 속성을 none으로 변경
		  imageElement.querySelector("img").style.display = "none";
      	  imageElement.style.border = "1px solid #ddd"; // border 추가
		}

	})();
</script>

</body>

</html>